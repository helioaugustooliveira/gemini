javascript:(function(){var GEMINI_API_KEYS=['AIzaSyANp5yxdrdGL7RtOXy0LdIdkoKZ7cVPIsc','AIzaSyBDdSZkgQphf5BORTDLcEUbJWcIAIo0Yr8'];var OPENAI_API_KEY='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';function getSelectedText(){if(window.getSelection){return window.getSelection().toString();}else if(document.selection&&document.selection.type!=="Control"){return document.selection.createRange().text;}return '';}async function callGeminiAPI(question,apiKey){var url='https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key='+apiKey;var prompt='Analise a questão e siga estes passos:\n\n1. **IDENTIFIQUE** a área da matemática (álgebra, geometria, trigonometria, cálculo, etc.)\n2. **PENSE** no processo de resolução passo a passo\n3. **RESOLVA** mostrando os cálculos principais\n4. **REVISE** sua resposta verificando se faz sentido\n5. **DESTAQUE** a resposta final em **NEGRITO** ou MAIÚSCULAS\n\nPara questões não-matemáticas, responda de forma resumida destacando pontos importantes.\n\nQuestão:\n'+question;var requestBody={contents:[{parts:[{text:prompt}]}],generationConfig:{temperature:0,maxOutputTokens:2000}};try{var response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});if(!response.ok){throw new Error('API Error: '+response.status);}var data=await response.json();if(data.candidates&&data.candidates[0]&&data.candidates[0].content){return data.candidates[0].content.parts[0].text.trim();}else{return 'N/A';}}catch(error){console.error('Erro na API Gemini:',error);return 'ERRO';}}async function callOpenAIAPI(question){var url='https://api.openai.com/v1/chat/completions';var prompt='Responda de forma resumida e clara. Para questões de matemática, mostre o passo a passo da resolução. Para questões de linguagem, explique brevemente e destaque a resposta. Use **negrito** para destacar respostas importantes.\n\nQuestão: '+question;var requestBody={model:'gpt-4o',messages:[{role:'user',content:prompt}],temperature:0,max_tokens:1500};try{var response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json','Authorization':'Bearer '+OPENAI_API_KEY},body:JSON.stringify(requestBody)});if(!response.ok){throw new Error('API Error: '+response.status);}var data=await response.json();if(data.choices&&data.choices[0]&&data.choices[0].message){return data.choices[0].message.content.trim();}else{return 'N/A';}}catch(error){console.error('Erro na API OpenAI:',error);return 'ERRO';}}async function processGeminiQuestion(){var selectedText=getSelectedText().trim();if(!selectedText){alert('Selecione uma pergunta na página primeiro!');return;}try{var promises=GEMINI_API_KEYS.map(function(apiKey){return callGeminiAPI(selectedText,apiKey);});var results=await Promise.all(promises);var answer1=results[0];var answer2=results[1];alert('=== GEMINI API 1 ===\n'+answer1+'\n\n=== GEMINI API 2 ===\n'+answer2);}catch(error){alert('Erro Gemini: '+error.message);}}async function processChatGPTQuestion(){var selectedText=getSelectedText().trim();if(!selectedText){alert('Selecione uma pergunta na página primeiro!');return;}try{var result=await callOpenAIAPI(selectedText);alert('=== CHATGPT ===\n'+result);}catch(error){alert('Erro ChatGPT: '+error.message);}}if(window.geminiListener){document.removeEventListener('keydown',window.geminiListener);}if(window.chatgptListener){document.removeEventListener('keydown',window.chatgptListener);}window.geminiListener=function(e){if(e.altKey&&(e.key==='g'||e.key==='G')){e.preventDefault();processGeminiQuestion();}};window.chatgptListener=function(e){if(e.altKey&&(e.key==='c'||e.key==='C')){e.preventDefault();processChatGPTQuestion();}};document.addEventListener('keydown',window.geminiListener);document.addEventListener('keydown',window.chatgptListener);var currentSelection=getSelectedText();if(currentSelection){alert('Bookmarklet ativado!\n\nAlt+G = Gemini (2 APIs)\nAlt+C = ChatGPT\n\nSelecione texto e use os atalhos!');}else{alert('Bookmarklet ativado!\n\nAlt+G = Gemini (2 APIs)\n\nSelecione uma pergunta e use os atalhos!');}})();
